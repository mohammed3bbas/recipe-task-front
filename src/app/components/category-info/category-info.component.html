<app-head-bar>
</app-head-bar>
<div class="modal-dialog" role="document">

    <div class="modal-content">
        <!-- <div class="modal-header">
            <h5 class="modal-title" id="addRecipeModalLabel">Add Recipe</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="backToRecipes()">
           <span aria-hidden="true">&times;</span>
        </button>
        </div> -->
        <div class="modal-body">
            <form [formGroup]='updateCategoryForm'>
                <div class="form-group">
                    <label for="name">Name</label>
                    <input formControlName="name" [readonly]='readonly' type="text" name="name" class="form-control" id="name" [value]="category?.name">
                    <div *ngIf='!readonly '>
                        <div *ngIf=" updateCategoryForm.get('name').hasError('isUniqueName') " class="alert alert-danger " role="alert "> Recipe name already taken</div>
                        <div *ngIf="updateCategoryForm.get('name').hasError('required') " class="alert alert-danger " role="alert "> this field is required</div>
                        <div *ngIf="updateCategoryForm.get('name').hasError('maxlength') " class="alert alert-danger " role="alert ">maxinmum name length is : {{updateCategoryForm.get('name ').errors.maxlength.requiredLength}}</div>
                        <div *ngIf="updateCategoryForm.get('name').hasError('pattern')" class="alert alert-danger " role="alert "> only alphabets allowed </div>
                    </div>

                </div>
                <div class="form-check ">
                    <input (click)="editMode()" class=" form-check-input " type="checkbox" id="flexCheckDefault ">
                    <label class="form-check-label " for="flexCheckDefault ">
                      update (edit) mode
                    </label>
                </div>
                <div class="modal-footer ">
                    <button type="button " class="btn btn-secondary " data-dismiss="modal " routerLink="/categories">Back to categories</button>
                    <button (click)="updateCategory()" *ngIf="!readonly " [disabled]=" !updateCategoryForm.valid " type="submit " class="btn btn-primary ">Update Category</button>
                </div>
            </form>
        </div>
    </div>
</div>